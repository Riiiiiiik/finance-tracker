version: '3.8'
services:
  bot:
    build:
      context: .
      dockerfile: Dockerfile.bot
    image: finance-tracker-bot
    container_name: finance-tracker-bot
    restart: always
    environment:
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY}
      - SITE_API_URL=${SITE_API_URL}
      - SITE_API_SECRET=${SITE_API_SECRET}
      - TZ=America/Sao_Paulo
    volumes:
      - ./scripts:/app/scripts
    command: python3 -u /app/scripts/scheduler.py
